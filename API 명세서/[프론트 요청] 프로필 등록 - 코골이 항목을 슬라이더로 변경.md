## 🛠️ 백엔드 데이터베이스 변경사항

### 📌 수정 대상 테이블
- 테이블명: `roommate_profiles`
- 파일: `init_db.sql`

- 원래는 코골이를 on / off 로만 구성했으나, 1-5 단계로 표현하기 위해 이걸 수정해야 함. 지금 프론트는 버튼으로만 이루어져 있는데 이걸 슬라이드로 바꿔주면 됨

### 🧾 변경 전 정의

```sql
snores BOOLEAN,
```

### 🧾 변경 후 정의

```sql
snore_level INT,
```

- 기존 Boolean 필드 `snores` 제거
- 대신 1~5 사이 정수 값을 가지는 `snore_level` 필드 추가
- 기본값은 3 (보통 정도의 코골이)

---

## 💾 전체 테이블 정의 (수정 후)

```sql
CREATE TABLE IF NOT EXISTS roommate_profiles (
    user_id VARCHAR(100),
    is_morning_person BOOLEAN,
    is_smoker BOOLEAN,
    snore_level INT,
    hygiene_level INT,
    hall_type ENUM('신관', '구관'),
    PRIMARY KEY(user_id),
    FOREIGN KEY(user_id) REFERENCES users(user_id) ON DELETE CASCADE
);
```

---

## 🧪 이미 배포된 DB에서 수동 반영하는 경우

```sql
ALTER TABLE roommate_profiles DROP COLUMN snores;
ALTER TABLE roommate_profiles ADD COLUMN snore_level INT NOT NULL DEFAULT 3;
```

---

## 📁 관련 파일 경로

- SQL 초기화 파일: `server/init_db.sql` 에서 4번
- 서버 연동 Python 코드: `server/app.py` → `@app.route("/profile", methods=["POST"])`

---
